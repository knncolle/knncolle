<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>knncolle: knncolle::NeighborQueue&lt; Index_, Distance_ &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">knncolle
   </div>
   <div id="projectbrief">Collection of KNN methods in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceknncolle.html">knncolle</a></li><li class="navelem"><a class="el" href="classknncolle_1_1NeighborQueue.html">NeighborQueue</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classknncolle_1_1NeighborQueue-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">knncolle::NeighborQueue&lt; Index_, Distance_ &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Helper class to track nearest neighbors.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="NeighborQueue_8hpp_source.html">NeighborQueue.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abc66097ed7fa8f7cbbd0ee82328b9152" id="r_abc66097ed7fa8f7cbbd0ee82328b9152"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abc66097ed7fa8f7cbbd0ee82328b9152">NeighborQueue</a> ()=default</td></tr>
<tr class="separator:abc66097ed7fa8f7cbbd0ee82328b9152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae75692355310f09d163bf20b19b3ef36" id="r_ae75692355310f09d163bf20b19b3ef36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae75692355310f09d163bf20b19b3ef36">reset</a> (Index_ k)</td></tr>
<tr class="separator:ae75692355310f09d163bf20b19b3ef36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae459f76b2e81b65b7f437e01eea1689b" id="r_ae459f76b2e81b65b7f437e01eea1689b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae459f76b2e81b65b7f437e01eea1689b">is_full</a> () const</td></tr>
<tr class="separator:ae459f76b2e81b65b7f437e01eea1689b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade4febddacc0e5725caa3c683486dcb0" id="r_ade4febddacc0e5725caa3c683486dcb0"><td class="memItemLeft" align="right" valign="top">Distance_&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ade4febddacc0e5725caa3c683486dcb0">limit</a> () const</td></tr>
<tr class="separator:ade4febddacc0e5725caa3c683486dcb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0add776502ad89cc532ede0da9e7559" id="r_ac0add776502ad89cc532ede0da9e7559"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0add776502ad89cc532ede0da9e7559">add</a> (Index_ i, Distance_ d)</td></tr>
<tr class="separator:ac0add776502ad89cc532ede0da9e7559"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a611b8233976b0b5f930deac74c2b68c3" id="r_a611b8233976b0b5f930deac74c2b68c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a611b8233976b0b5f930deac74c2b68c3">report</a> (std::vector&lt; Index_ &gt; *output_indices, std::vector&lt; Distance_ &gt; *output_distances, Index_ self)</td></tr>
<tr class="separator:a611b8233976b0b5f930deac74c2b68c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eae6afd23a9b4a3106b64f16e78c852" id="r_a8eae6afd23a9b4a3106b64f16e78c852"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8eae6afd23a9b4a3106b64f16e78c852">report</a> (std::vector&lt; Index_ &gt; *output_indices, std::vector&lt; Distance_ &gt; *output_distances)</td></tr>
<tr class="separator:a8eae6afd23a9b4a3106b64f16e78c852"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename Index_, typename Distance_&gt;<br />
class knncolle::NeighborQueue&lt; Index_, Distance_ &gt;</div><p>Helper class to track nearest neighbors. </p>
<p>This is a priority queue that tracks the nearest neighbors of an observation of interest. Specifically, it contains indices and distances of the <code>k</code> nearest neighbors, in decreasing order from the top of the queue. When the queue is at capacity and new elements are added, existing elements will be displaced by incoming elements with shorter distances.</p>
<p>This class is intended to be used in implementations of <code><a class="el" href="classknncolle_1_1Searcher.html#ab0f6c2ce78952dd555f7f1a8fb3ac208">Searcher::search()</a></code> to track the <code>k</code>-nearest neighbors. When searching for neighbors of an existing observation in the dataset, it is recommended to search for the <code>k + 1</code> neighbors. The appropriate <code><a class="el" href="#a611b8233976b0b5f930deac74c2b68c3">report()</a></code> overload can then be used to remove the observation of interest from its own neighbor list.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Index_</td><td>Integer type for the observation indices. </td></tr>
    <tr><td class="paramname">Distance_</td><td>Numeric type for the distances, usually floating-point. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="abc66097ed7fa8f7cbbd0ee82328b9152" name="abc66097ed7fa8f7cbbd0ee82328b9152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc66097ed7fa8f7cbbd0ee82328b9152">&#9670;&#160;</a></span>NeighborQueue()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Distance_ &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classknncolle_1_1NeighborQueue.html">knncolle::NeighborQueue</a>&lt; Index_, Distance_ &gt;::NeighborQueue </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Default constructor. The maximum number of neighbors to be retained is 1; this can be changed by <code><a class="el" href="#ae75692355310f09d163bf20b19b3ef36">reset()</a></code>. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac0add776502ad89cc532ede0da9e7559" name="ac0add776502ad89cc532ede0da9e7559"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0add776502ad89cc532ede0da9e7559">&#9670;&#160;</a></span>add()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Distance_ &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classknncolle_1_1NeighborQueue.html">knncolle::NeighborQueue</a>&lt; Index_, Distance_ &gt;::add </td>
          <td>(</td>
          <td class="paramtype">Index_</td>          <td class="paramname"><span class="paramname"><em>i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Distance_</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Attempt to add a neighbor to the queue. This will be a no-op if <code><a class="el" href="#ae459f76b2e81b65b7f437e01eea1689b">is_full()</a></code> is true and <code>d &gt; <a class="el" href="#ade4febddacc0e5725caa3c683486dcb0">limit()</a></code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>Index of the neighbor. </td></tr>
    <tr><td class="paramname">d</td><td>Distance to the neighbor. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae459f76b2e81b65b7f437e01eea1689b" name="ae459f76b2e81b65b7f437e01eea1689b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae459f76b2e81b65b7f437e01eea1689b">&#9670;&#160;</a></span>is_full()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Distance_ &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classknncolle_1_1NeighborQueue.html">knncolle::NeighborQueue</a>&lt; Index_, Distance_ &gt;::is_full </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Whether the queue is full. </dd></dl>

</div>
</div>
<a id="ade4febddacc0e5725caa3c683486dcb0" name="ade4febddacc0e5725caa3c683486dcb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade4febddacc0e5725caa3c683486dcb0">&#9670;&#160;</a></span>limit()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Distance_ &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Distance_ <a class="el" href="classknncolle_1_1NeighborQueue.html">knncolle::NeighborQueue</a>&lt; Index_, Distance_ &gt;::limit </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The distance of the <code>k</code>-th furthest neighbor, where <code>k</code> is the number of neighbors in <code><a class="el" href="#ae75692355310f09d163bf20b19b3ef36">reset()</a></code>. This should only be called if <code><a class="el" href="#ae459f76b2e81b65b7f437e01eea1689b">is_full()</a></code> returns true. </dd></dl>

</div>
</div>
<a id="a8eae6afd23a9b4a3106b64f16e78c852" name="a8eae6afd23a9b4a3106b64f16e78c852"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8eae6afd23a9b4a3106b64f16e78c852">&#9670;&#160;</a></span>report() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Distance_ &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classknncolle_1_1NeighborQueue.html">knncolle::NeighborQueue</a>&lt; Index_, Distance_ &gt;::report </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; Index_ &gt; *</td>          <td class="paramname"><span class="paramname"><em>output_indices</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; Distance_ &gt; *</td>          <td class="paramname"><span class="paramname"><em>output_distances</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Report the indices and distances of the nearest neighbors in the queue. It is assumed that the observation of interest is not detected as its own neighbor, presumably as it does not exist in the original input dataset.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">output_indices</td><td>Pointer to a vector in which to store the indices of the nearest neighbors, sorted by distance. If <code>NULL</code>, the indices will not be reported. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output_distances</td><td>Pointer to a vector in which to store the (sorted) distances to the nearest neighbors. If <code>NULL</code>, the distances will not be reported. Otherwise, on output, this will have the same length as <code>*output_indices</code> and contain distances to each of those neighbors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a611b8233976b0b5f930deac74c2b68c3" name="a611b8233976b0b5f930deac74c2b68c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a611b8233976b0b5f930deac74c2b68c3">&#9670;&#160;</a></span>report() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Distance_ &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classknncolle_1_1NeighborQueue.html">knncolle::NeighborQueue</a>&lt; Index_, Distance_ &gt;::report </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; Index_ &gt; *</td>          <td class="paramname"><span class="paramname"><em>output_indices</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; Distance_ &gt; *</td>          <td class="paramname"><span class="paramname"><em>output_distances</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Index_</td>          <td class="paramname"><span class="paramname"><em>self</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Report the indices and distances of the nearest neighbors in the queue. If the observation of interest is detected as its own neighbor, it will be removed from the output vectors.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">output_indices</td><td>Pointer to a vector in which to store the indices of the nearest neighbors, sorted by distance. If <code>NULL</code>, the indices will not be reported. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output_distances</td><td>Pointer to a vector in which to store the (sorted) distances to the nearest neighbors. If <code>NULL</code>, the distances will not be reported. Otherwise, on output, this will have the same length as <code>*output_indices</code> and contain distances to each of those neighbors. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">self</td><td>Index of the observation of interest, i.e., for which neighbors are to be identified. If present in the queue, this will be removed from <code>output_indices</code> and <code>output_distances</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae75692355310f09d163bf20b19b3ef36" name="ae75692355310f09d163bf20b19b3ef36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae75692355310f09d163bf20b19b3ef36">&#9670;&#160;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Distance_ &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classknncolle_1_1NeighborQueue.html">knncolle::NeighborQueue</a>&lt; Index_, Distance_ &gt;::reset </td>
          <td>(</td>
          <td class="paramtype">Index_</td>          <td class="paramname"><span class="paramname"><em>k</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Resets the queue to retain <code>k</code> neighbors. Any existing neighbors in the queue are removed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">k</td><td>Maximum number of neighbors to retain. This should be a positive integer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>knncolle/<a class="el" href="NeighborQueue_8hpp_source.html">NeighborQueue.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
