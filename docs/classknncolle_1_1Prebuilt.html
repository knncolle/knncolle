<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>knncolle: knncolle::Prebuilt&lt; Index_, Data_, Distance_ &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">knncolle
   </div>
   <div id="projectbrief">Collection of KNN methods in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceknncolle.html">knncolle</a></li><li class="navelem"><a class="el" href="classknncolle_1_1Prebuilt.html">Prebuilt</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classknncolle_1_1Prebuilt-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">knncolle::Prebuilt&lt; Index_, Data_, Distance_ &gt; Class Template Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Interface for prebuilt nearest-neighbor search indices.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Prebuilt_8hpp_source.html">Prebuilt.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a560fec57d6ec36d288b6cd80e9f4c7bd" id="r_a560fec57d6ec36d288b6cd80e9f4c7bd"><td class="memItemLeft" align="right" valign="top">virtual Index_&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a560fec57d6ec36d288b6cd80e9f4c7bd">num_observations</a> () const =0</td></tr>
<tr class="separator:a560fec57d6ec36d288b6cd80e9f4c7bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac041712392f74d5fd8f030e2c0adcdc6" id="r_ac041712392f74d5fd8f030e2c0adcdc6"><td class="memItemLeft" align="right" valign="top">virtual std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac041712392f74d5fd8f030e2c0adcdc6">num_dimensions</a> () const =0</td></tr>
<tr class="separator:ac041712392f74d5fd8f030e2c0adcdc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacc8819b7962ce27294cf0d42f6c6e68" id="r_aacc8819b7962ce27294cf0d42f6c6e68"><td class="memItemLeft" align="right" valign="top">virtual std::unique_ptr&lt; <a class="el" href="classknncolle_1_1Searcher.html">Searcher</a>&lt; Index_, Data_, Distance_ &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aacc8819b7962ce27294cf0d42f6c6e68">initialize</a> () const =0</td></tr>
<tr class="separator:aacc8819b7962ce27294cf0d42f6c6e68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add21dc74e08a6ad495c6e241fa3d5968" id="r_add21dc74e08a6ad495c6e241fa3d5968"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add21dc74e08a6ad495c6e241fa3d5968">save</a> (const std::filesystem::path &amp;dir) const</td></tr>
<tr class="separator:add21dc74e08a6ad495c6e241fa3d5968"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49d2dbfc4a463c396842875f26746ac4" id="r_a49d2dbfc4a463c396842875f26746ac4"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49d2dbfc4a463c396842875f26746ac4">initialize_known</a> () const</td></tr>
<tr class="separator:a49d2dbfc4a463c396842875f26746ac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename Index_, typename Data_, typename Distance_&gt;<br />
class knncolle::Prebuilt&lt; Index_, Data_, Distance_ &gt;</div><p>Interface for prebuilt nearest-neighbor search indices. </p>
<p>Instances of <code><a class="el" href="classknncolle_1_1Prebuilt.html" title="Interface for prebuilt nearest-neighbor search indices.">Prebuilt</a></code> subclasses are typically constructed with <code><a class="el" href="classknncolle_1_1Builder.html#acd18a78af362f948ede3ddd8d5f6e88c">Builder::build_raw()</a></code>. Note that a <code><a class="el" href="classknncolle_1_1Prebuilt.html" title="Interface for prebuilt nearest-neighbor search indices.">Prebuilt</a></code> instance may outlive the <code><a class="el" href="classknncolle_1_1Builder.html" title="Interface to build nearest-neighbor search indices.">Builder</a></code> object used to generate it, so the former should not hold any references to the latter.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Index_</td><td>Integer type for the observation indices. </td></tr>
    <tr><td class="paramname">Data_</td><td>Numeric type for the query data. </td></tr>
    <tr><td class="paramname">Distance_</td><td>Numeric type for the distances, usually floating-point. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aacc8819b7962ce27294cf0d42f6c6e68" name="aacc8819b7962ce27294cf0d42f6c6e68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacc8819b7962ce27294cf0d42f6c6e68">&#9670;&#160;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Data_ , typename Distance_ &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::unique_ptr&lt; <a class="el" href="classknncolle_1_1Searcher.html">Searcher</a>&lt; Index_, Data_, Distance_ &gt; &gt; <a class="el" href="classknncolle_1_1Prebuilt.html">knncolle::Prebuilt</a>&lt; Index_, Data_, Distance_ &gt;::initialize </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a <code><a class="el" href="classknncolle_1_1Searcher.html" title="Interface for searching nearest-neighbor search indices.">Searcher</a></code> for searching the index. </p><dl class="section return"><dt>Returns</dt><dd>Pointer to a <code><a class="el" href="classknncolle_1_1Searcher.html" title="Interface for searching nearest-neighbor search indices.">Searcher</a></code> instance. </dd></dl>

</div>
</div>
<a id="a49d2dbfc4a463c396842875f26746ac4" name="a49d2dbfc4a463c396842875f26746ac4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49d2dbfc4a463c396842875f26746ac4">&#9670;&#160;</a></span>initialize_known()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Data_ , typename Distance_ &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto <a class="el" href="classknncolle_1_1Prebuilt.html">knncolle::Prebuilt</a>&lt; Index_, Data_, Distance_ &gt;::initialize_known </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Unqiue pointer to a <code><a class="el" href="classknncolle_1_1Searcher.html" title="Interface for searching nearest-neighbor search indices.">Searcher</a></code> subclass.</dd></dl>
<p>Subclasses may override this method to return a pointer to a specific <code><a class="el" href="classknncolle_1_1Searcher.html" title="Interface for searching nearest-neighbor search indices.">Searcher</a></code> subclass. This is used for devirtualization in other <b>knncolle</b> functions. If no override is provided, <code><a class="el" href="#aacc8819b7962ce27294cf0d42f6c6e68">initialize()</a></code> is called instead. </p>

</div>
</div>
<a id="ac041712392f74d5fd8f030e2c0adcdc6" name="ac041712392f74d5fd8f030e2c0adcdc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac041712392f74d5fd8f030e2c0adcdc6">&#9670;&#160;</a></span>num_dimensions()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Data_ , typename Distance_ &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::size_t <a class="el" href="classknncolle_1_1Prebuilt.html">knncolle::Prebuilt</a>&lt; Index_, Data_, Distance_ &gt;::num_dimensions </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Number of dimensions. </dd></dl>

</div>
</div>
<a id="a560fec57d6ec36d288b6cd80e9f4c7bd" name="a560fec57d6ec36d288b6cd80e9f4c7bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a560fec57d6ec36d288b6cd80e9f4c7bd">&#9670;&#160;</a></span>num_observations()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Data_ , typename Distance_ &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Index_ <a class="el" href="classknncolle_1_1Prebuilt.html">knncolle::Prebuilt</a>&lt; Index_, Data_, Distance_ &gt;::num_observations </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Number of observations in the dataset to be searched. </dd></dl>

</div>
</div>
<a id="add21dc74e08a6ad495c6e241fa3d5968" name="add21dc74e08a6ad495c6e241fa3d5968"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add21dc74e08a6ad495c6e241fa3d5968">&#9670;&#160;</a></span>save()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Data_ , typename Distance_ &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classknncolle_1_1Prebuilt.html">knncolle::Prebuilt</a>&lt; Index_, Data_, Distance_ &gt;::save </td>
          <td>(</td>
          <td class="paramtype">const std::filesystem::path &amp;</td>          <td class="paramname"><span class="paramname"><em>dir</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Save the prebuilt index to disk, to be reloaded with <code><a class="el" href="namespaceknncolle.html#a2157dec9e895be903278fc6903c793e0">load_prebuilt_raw()</a></code> and friends.</p>
<p>An implementation of this method should create an <code>ALGORITHM</code> file inside <code>dir</code> that contains the search algorithm's name. This should be an ASCII file with no newlines, where the algorithm name should follow the <code>&lt;library&gt;::&lt;algorithm&gt;</code> format, e.g., <code>knncolle::Vptree</code>. This will be used by <code><a class="el" href="namespaceknncolle.html#a2157dec9e895be903278fc6903c793e0">load_prebuilt_raw()</a></code> to determine the exact loader function to call.</p>
<p>Other than the <code>ALGORITHM</code> file, each implementation may create any number of additional files/directories of any format inside <code>dir</code>. We recommend that the name of each file/directory immediately starts with an upper case letter and is in all-capitals. This allows applications to add more custom files without the risk of conflicts, e.g., by naming them without an upper-case letter.</p>
<p>An implementation of this method is not required to use portable file formats. <code><a class="el" href="namespaceknncolle.html#a2157dec9e895be903278fc6903c793e0">load_prebuilt_raw()</a></code> is only expected to work on the same system (i.e., architecture, compiler, compilation settings) that was used for the <code><a class="el" href="#add21dc74e08a6ad495c6e241fa3d5968">save()</a></code> call. Any additional portability is at the discretion of the implementation, e.g., it is common to assume IEEE floating-point and two's-complement integers.</p>
<p>An implementation of this method is not required to create files that are readable by different versions of the implementation. Thus, the files created by this method are generally unsuitable for archival storage. However, implementations are recommended to at least provide enough information to throw an exception if an incompatible version of <code><a class="el" href="namespaceknncolle.html#a2157dec9e895be903278fc6903c793e0">load_prebuilt_raw()</a></code> is used.</p>
<p>If a subclass does not implement this method, an error is thrown by default.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir</td><td>Path to a directory in which to save the index. This directory should already exist. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>knncolle/<a class="el" href="Prebuilt_8hpp_source.html">Prebuilt.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
