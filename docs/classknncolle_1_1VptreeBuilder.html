<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>knncolle: knncolle::VptreeBuilder&lt; Index_, Data_, Distance_, Matrix_, DistanceMetric_ &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">knncolle
   </div>
   <div id="projectbrief">Collection of KNN methods in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceknncolle.html">knncolle</a></li><li class="navelem"><a class="el" href="classknncolle_1_1VptreeBuilder.html">VptreeBuilder</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classknncolle_1_1VptreeBuilder-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">knncolle::VptreeBuilder&lt; Index_, Data_, Distance_, Matrix_, DistanceMetric_ &gt; Class Template Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Perform a nearest neighbor search based on a vantage point (VP) tree.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Vptree_8hpp_source.html">Vptree.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for knncolle::VptreeBuilder&lt; Index_, Data_, Distance_, Matrix_, DistanceMetric_ &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classknncolle_1_1VptreeBuilder__inherit__graph.png" border="0" usemap="#aknncolle_1_1VptreeBuilder_3_01Index___00_01Data___00_01Distance___00_01Matrix___00_01DistanceMetric___01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="aknncolle_1_1VptreeBuilder_3_01Index___00_01Data___00_01Distance___00_01Matrix___00_01DistanceMetric___01_4_inherit__map" id="aknncolle_1_1VptreeBuilder_3_01Index___00_01Data___00_01Distance___00_01Matrix___00_01DistanceMetric___01_4_inherit__map">
<area shape="rect" title="Perform a nearest neighbor search based on a vantage point (VP) tree." alt="" coords="5,109,195,165"/>
<area shape="rect" href="classknncolle_1_1Builder.html" title="Interface to build nearest&#45;neighbor search indices." alt="" coords="19,5,181,61"/>
<area shape="poly" title=" " alt="" coords="103,77,103,108,97,108,97,77"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for knncolle::VptreeBuilder&lt; Index_, Data_, Distance_, Matrix_, DistanceMetric_ &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classknncolle_1_1VptreeBuilder__coll__graph.png" border="0" usemap="#aknncolle_1_1VptreeBuilder_3_01Index___00_01Data___00_01Distance___00_01Matrix___00_01DistanceMetric___01_4_coll__map" alt="Collaboration graph"/></div>
<map name="aknncolle_1_1VptreeBuilder_3_01Index___00_01Data___00_01Distance___00_01Matrix___00_01DistanceMetric___01_4_coll__map" id="aknncolle_1_1VptreeBuilder_3_01Index___00_01Data___00_01Distance___00_01Matrix___00_01DistanceMetric___01_4_coll__map">
<area shape="rect" title="Perform a nearest neighbor search based on a vantage point (VP) tree." alt="" coords="5,109,195,165"/>
<area shape="rect" href="classknncolle_1_1Builder.html" title="Interface to build nearest&#45;neighbor search indices." alt="" coords="19,5,181,61"/>
<area shape="poly" title=" " alt="" coords="103,77,103,108,97,108,97,77"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a13f00af67d227d117fa4b9910861a438" id="r_a13f00af67d227d117fa4b9910861a438"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a13f00af67d227d117fa4b9910861a438">VptreeBuilder</a> (std::shared_ptr&lt; const DistanceMetric_ &gt; metric)</td></tr>
<tr class="separator:a13f00af67d227d117fa4b9910861a438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29abc6777bdd31820ef66a6ee518a8aa" id="r_a29abc6777bdd31820ef66a6ee518a8aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a29abc6777bdd31820ef66a6ee518a8aa">VptreeBuilder</a> (const DistanceMetric_ *metric)</td></tr>
<tr class="separator:a29abc6777bdd31820ef66a6ee518a8aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafa5db0eecf99ebab88d21f038b6b15a" id="r_aafa5db0eecf99ebab88d21f038b6b15a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classknncolle_1_1Prebuilt.html">Prebuilt</a>&lt; Index_, Data_, Distance_ &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aafa5db0eecf99ebab88d21f038b6b15a">build_raw</a> (const Matrix_ &amp;data) const</td></tr>
<tr class="separator:aafa5db0eecf99ebab88d21f038b6b15a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classknncolle_1_1Builder"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classknncolle_1_1Builder')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classknncolle_1_1Builder.html">knncolle::Builder&lt; Index_, Data_, Distance_, Matrix_ &gt;</a></td></tr>
<tr class="memitem:a9a7a0cb39688bedba6ab406e59da6c90 inherit pub_methods_classknncolle_1_1Builder" id="r_a9a7a0cb39688bedba6ab406e59da6c90"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classknncolle_1_1Prebuilt.html">Prebuilt</a>&lt; Index_, Data_, Distance_ &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1Builder.html#a9a7a0cb39688bedba6ab406e59da6c90">build_shared</a> (const Matrix_ &amp;data) const</td></tr>
<tr class="separator:a9a7a0cb39688bedba6ab406e59da6c90 inherit pub_methods_classknncolle_1_1Builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93cac638de3e4ad31919bc5d677d16b7 inherit pub_methods_classknncolle_1_1Builder" id="r_a93cac638de3e4ad31919bc5d677d16b7"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classknncolle_1_1Prebuilt.html">Prebuilt</a>&lt; Index_, Data_, Distance_ &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1Builder.html#a93cac638de3e4ad31919bc5d677d16b7">build_unique</a> (const Matrix_ &amp;data) const</td></tr>
<tr class="separator:a93cac638de3e4ad31919bc5d677d16b7 inherit pub_methods_classknncolle_1_1Builder"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename Index_, typename Data_, typename Distance_, class Matrix_ = Matrix&lt;Index_, Data_&gt;, class DistanceMetric_ = DistanceMetric&lt;Data_, Distance_&gt;&gt;<br />
class knncolle::VptreeBuilder&lt; Index_, Data_, Distance_, Matrix_, DistanceMetric_ &gt;</div><p>Perform a nearest neighbor search based on a vantage point (VP) tree. </p>
<p>In a vantage point tree (Yianilos, 1993), each node contains a subset of points that is split into two further partitions. The split is determined by picking an arbitrary point inside that subset as the node center, computing the distance to all other points from the center, and using the median distance as the "radius" of a hypersphere. The left child of this node contains all points within that hypersphere while the right child contains the remaining points. This procedure is applied recursively until all points resolve to individual nodes, thus yielding a VP tree. Upon searching, the algorithm traverses the tree and exploits the triangle inequality between query points and node centers to narrow the search space.</p>
<p>The major advantage of VP trees over more conventional KD-trees or ball trees is that the former does not need to construct intermediate nodes, instead using the data points themselves at the nodes. This reduces the memory usage of the tree and total number of distance calculations for any search. It can also be very useful when the concept of an intermediate is not well-defined (e.g., for non-numeric data), though this is not particularly relevant for <b>knncolle</b>.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Index_</td><td>Integer type for the observation indices. </td></tr>
    <tr><td class="paramname">Data_</td><td>Numeric type for the input and query data. </td></tr>
    <tr><td class="paramname">Distance_</td><td>Floating point type for the distances. </td></tr>
    <tr><td class="paramname">Matrix_</td><td>Class that satisfies the <code><a class="el" href="classknncolle_1_1Matrix.html" title="Interface for matrix data.">Matrix</a></code> interface. </td></tr>
    <tr><td class="paramname">DistanceMetric_</td><td>Class that satisfies the <code><a class="el" href="classknncolle_1_1DistanceMetric.html" title="Interface for a distance metric.">DistanceMetric</a></code> interface.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>Yianilos PN (1993). Data structures and algorithms for nearest neighbor search in general metric spaces. <em>Proceedings of the Fourth Annual ACM-SIAM Symposium on Discrete Algorithms</em>, 311-321.</dd>
<dd>
Hanov S (2011). VP trees: A data structure for finding stuff fast. <a href="http://stevehanov.ca/blog/index.php?id=130">http://stevehanov.ca/blog/index.php?id=130</a> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a13f00af67d227d117fa4b9910861a438" name="a13f00af67d227d117fa4b9910861a438"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13f00af67d227d117fa4b9910861a438">&#9670;&#160;</a></span>VptreeBuilder() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Data_ , typename Distance_ , class Matrix_  = Matrix&lt;Index_, Data_&gt;, class DistanceMetric_  = DistanceMetric&lt;Data_, Distance_&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classknncolle_1_1VptreeBuilder.html">knncolle::VptreeBuilder</a>&lt; Index_, Data_, Distance_, Matrix_, DistanceMetric_ &gt;::VptreeBuilder </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; const DistanceMetric_ &gt;</td>          <td class="paramname"><span class="paramname"><em>metric</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">metric</td><td>Pointer to a distance metric instance, e.g., <code><a class="el" href="classknncolle_1_1EuclideanDistance.html" title="Compute Euclidean distances between two input vectors.">EuclideanDistance</a></code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a29abc6777bdd31820ef66a6ee518a8aa" name="a29abc6777bdd31820ef66a6ee518a8aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29abc6777bdd31820ef66a6ee518a8aa">&#9670;&#160;</a></span>VptreeBuilder() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Data_ , typename Distance_ , class Matrix_  = Matrix&lt;Index_, Data_&gt;, class DistanceMetric_  = DistanceMetric&lt;Data_, Distance_&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classknncolle_1_1VptreeBuilder.html">knncolle::VptreeBuilder</a>&lt; Index_, Data_, Distance_, Matrix_, DistanceMetric_ &gt;::VptreeBuilder </td>
          <td>(</td>
          <td class="paramtype">const DistanceMetric_ *</td>          <td class="paramname"><span class="paramname"><em>metric</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">metric</td><td>Pointer to a distance metric instance, e.g., <code><a class="el" href="classknncolle_1_1EuclideanDistance.html" title="Compute Euclidean distances between two input vectors.">EuclideanDistance</a></code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aafa5db0eecf99ebab88d21f038b6b15a" name="aafa5db0eecf99ebab88d21f038b6b15a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafa5db0eecf99ebab88d21f038b6b15a">&#9670;&#160;</a></span>build_raw()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Index_ , typename Data_ , typename Distance_ , class Matrix_  = Matrix&lt;Index_, Data_&gt;, class DistanceMetric_  = DistanceMetric&lt;Data_, Distance_&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classknncolle_1_1Prebuilt.html">Prebuilt</a>&lt; Index_, Data_, Distance_ &gt; * <a class="el" href="classknncolle_1_1VptreeBuilder.html">knncolle::VptreeBuilder</a>&lt; Index_, Data_, Distance_, Matrix_, DistanceMetric_ &gt;::build_raw </td>
          <td>(</td>
          <td class="paramtype">const Matrix_ &amp;</td>          <td class="paramname"><span class="paramname"><em>data</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a <code><a class="el" href="classknncolle_1_1VptreePrebuilt.html" title="Index for a VP-tree search.">VptreePrebuilt</a></code> instance. </p>

<p>Implements <a class="el" href="classknncolle_1_1Builder.html#acd18a78af362f948ede3ddd8d5f6e88c">knncolle::Builder&lt; Index_, Data_, Distance_, Matrix_ &gt;</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>knncolle/<a class="el" href="Vptree_8hpp_source.html">Vptree.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
