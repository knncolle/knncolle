<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>knncolle: knncolle::DistanceMetric&lt; Data_, Distance_ &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">knncolle
   </div>
   <div id="projectbrief">Collection of KNN methods in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceknncolle.html">knncolle</a></li><li class="navelem"><a class="el" href="classknncolle_1_1DistanceMetric.html">DistanceMetric</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classknncolle_1_1DistanceMetric-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">knncolle::DistanceMetric&lt; Data_, Distance_ &gt; Class Template Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Interface for a distance metric.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="distances_8hpp_source.html">distances.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for knncolle::DistanceMetric&lt; Data_, Distance_ &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classknncolle_1_1DistanceMetric__inherit__graph.png" border="0" usemap="#aknncolle_1_1DistanceMetric_3_01Data___00_01Distance___01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="aknncolle_1_1DistanceMetric_3_01Data___00_01Distance___01_4_inherit__map" id="aknncolle_1_1DistanceMetric_3_01Data___00_01Distance___01_4_inherit__map">
<area shape="rect" title="Interface for a distance metric." alt="" coords="5,39,168,79"/>
<area shape="rect" href="classknncolle_1_1EuclideanDistance.html" title="Compute Euclidean distances between two input vectors." alt="" coords="218,5,400,46"/>
<area shape="poly" title=" " alt="" coords="182,42,217,37,218,42,183,47"/>
<area shape="rect" href="classknncolle_1_1ManhattanDistance.html" title="Compute Manhattan distances between two input vectors." alt="" coords="216,71,403,111"/>
<area shape="poly" title=" " alt="" coords="183,70,216,75,215,80,183,75"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8ce1cf96534fffbc989ae0141cf74ef4" id="r_a8ce1cf96534fffbc989ae0141cf74ef4"><td class="memItemLeft" align="right" valign="top">virtual Distance_&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ce1cf96534fffbc989ae0141cf74ef4">raw</a> (std::size_t num_dimensions, const Data_ *x, const Data_ *y) const =0</td></tr>
<tr class="separator:a8ce1cf96534fffbc989ae0141cf74ef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a468569d0823bf3211b2ee5c46a81d9" id="r_a4a468569d0823bf3211b2ee5c46a81d9"><td class="memItemLeft" align="right" valign="top">virtual Distance_&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a468569d0823bf3211b2ee5c46a81d9">normalize</a> (Distance_ <a class="el" href="#a8ce1cf96534fffbc989ae0141cf74ef4">raw</a>) const =0</td></tr>
<tr class="separator:a4a468569d0823bf3211b2ee5c46a81d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8810b699e11a1c354470dee9051c935b" id="r_a8810b699e11a1c354470dee9051c935b"><td class="memItemLeft" align="right" valign="top">virtual Distance_&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8810b699e11a1c354470dee9051c935b">denormalize</a> (Distance_ norm) const =0</td></tr>
<tr class="separator:a8810b699e11a1c354470dee9051c935b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1afc3ebde534d693ef3ac82528de767d" id="r_a1afc3ebde534d693ef3ac82528de767d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1afc3ebde534d693ef3ac82528de767d">save</a> (const std::string &amp;prefix) const</td></tr>
<tr class="separator:a1afc3ebde534d693ef3ac82528de767d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename Data_, typename Distance_&gt;<br />
class knncolle::DistanceMetric&lt; Data_, Distance_ &gt;</div><p>Interface for a distance metric. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Data_</td><td>Numeric type for the input data. </td></tr>
    <tr><td class="paramname">Distance_</td><td>Numeric type for the output distance, usually floating-point. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a8810b699e11a1c354470dee9051c935b" name="a8810b699e11a1c354470dee9051c935b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8810b699e11a1c354470dee9051c935b">&#9670;&#160;</a></span>denormalize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Data_ , typename Distance_ &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Distance_ <a class="el" href="classknncolle_1_1DistanceMetric.html">knncolle::DistanceMetric</a>&lt; Data_, Distance_ &gt;::denormalize </td>
          <td>(</td>
          <td class="paramtype">Distance_</td>          <td class="paramname"><span class="paramname"><em>norm</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">norm</td><td>Normalized distance (i.e., the output of <code><a class="el" href="#a4a468569d0823bf3211b2ee5c46a81d9">normalize()</a></code>). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The denormalized distance (i.e., the input to <code><a class="el" href="#a4a468569d0823bf3211b2ee5c46a81d9">normalize()</a></code>). </dd></dl>

</div>
</div>
<a id="a4a468569d0823bf3211b2ee5c46a81d9" name="a4a468569d0823bf3211b2ee5c46a81d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a468569d0823bf3211b2ee5c46a81d9">&#9670;&#160;</a></span>normalize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Data_ , typename Distance_ &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Distance_ <a class="el" href="classknncolle_1_1DistanceMetric.html">knncolle::DistanceMetric</a>&lt; Data_, Distance_ &gt;::normalize </td>
          <td>(</td>
          <td class="paramtype">Distance_</td>          <td class="paramname"><span class="paramname"><em>raw</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">raw</td><td>Raw distance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The normalized distance. </dd></dl>

</div>
</div>
<a id="a8ce1cf96534fffbc989ae0141cf74ef4" name="a8ce1cf96534fffbc989ae0141cf74ef4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ce1cf96534fffbc989ae0141cf74ef4">&#9670;&#160;</a></span>raw()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Data_ , typename Distance_ &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Distance_ <a class="el" href="classknncolle_1_1DistanceMetric.html">knncolle::DistanceMetric</a>&lt; Data_, Distance_ &gt;::raw </td>
          <td>(</td>
          <td class="paramtype">std::size_t</td>          <td class="paramname"><span class="paramname"><em>num_dimensions</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Data_ *</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Data_ *</td>          <td class="paramname"><span class="paramname"><em>y</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The raw distance <code>r</code> for a distance <code>d</code> is defined so that <code>r(x, y) &gt; r(x, z)</code> iff <code>d(x, y) &gt; d(x, z)</code>. <code>r(x, y)</code> is converted to <code>d(x, z)</code> via a monotonic transform in <code><a class="el" href="#a4a468569d0823bf3211b2ee5c46a81d9">normalize()</a></code>, and vice versa for <code><a class="el" href="#a8810b699e11a1c354470dee9051c935b">denormalize()</a></code>. We separate out these two steps to avoid, e.g., a costly root operation for a Euclidean distance when only the relative values are of interest.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Pointer to the array containing the first vector. </td></tr>
    <tr><td class="paramname">y</td><td>Pointer to the array containing the second vector. </td></tr>
    <tr><td class="paramname">num_dimensions</td><td>Length of both vectors.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The raw distance between <code>x</code> and <code>y</code>. </dd></dl>

</div>
</div>
<a id="a1afc3ebde534d693ef3ac82528de767d" name="a1afc3ebde534d693ef3ac82528de767d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1afc3ebde534d693ef3ac82528de767d">&#9670;&#160;</a></span>save()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Data_ , typename Distance_ &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classknncolle_1_1DistanceMetric.html">knncolle::DistanceMetric</a>&lt; Data_, Distance_ &gt;::save </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>prefix</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Save the distance metric to disk, to be reloaded with <code><a class="el" href="namespaceknncolle.html#a5c0df62bd7206b0b3892aedadb2a962c">load_distance_metric_raw()</a></code> and friends.</p>
<p>An implementation of this method should create a <code>&lt;prefix&gt;DISTANCE</code> file that contains the distance metric's name. This should be an ASCII file with no newlines, where the metric name should follow the <code>&lt;library&gt;::&lt;distance&gt;</code> format, e.g., <code>knncolle::Euclidean</code>. This will be used by <code><a class="el" href="namespaceknncolle.html#a5c0df62bd7206b0b3892aedadb2a962c">load_distance_metric_raw()</a></code> to determine the exact loader function to call. Other than the <code>DISTANCE</code> file, each implementation may create any number of additional files of any format, as long as they start with <code>prefix</code>.</p>
<p>An implementation of this method is not required to use portable file formats. <code><a class="el" href="namespaceknncolle.html#a5c0df62bd7206b0b3892aedadb2a962c">load_distance_metric_raw()</a></code> is only expected to work on the same system (i.e., architecture, compiler, compilation settings) that was used for the <code><a class="el" href="#a1afc3ebde534d693ef3ac82528de767d">save()</a></code> call. Any additional portability is at the discretion of the implementation, e.g., it is common to assume IEEE floating-point and two's-complement integers.</p>
<p>An implementation of this method is not required to create files that are readable by different versions of the implementation. Thus, the files created by this method are generally unsuitable for archival storage. However, implementations are recommended to at least provide enough information to throw an exception if an incompatible version of <code><a class="el" href="namespaceknncolle.html#a5c0df62bd7206b0b3892aedadb2a962c">load_distance_metric_raw()</a></code> is used.</p>
<p>If a subclass does not implement this method, an error is thrown by default.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prefix</td><td>Prefix of the file path(s) in which to save the index. All files created by this method should start with this prefix. Any directories required to write a file starting with <code>prefix</code> should already have been created. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>knncolle/<a class="el" href="distances_8hpp_source.html">distances.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
